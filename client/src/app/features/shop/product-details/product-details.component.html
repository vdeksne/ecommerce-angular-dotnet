@if (product) {
<div class="product-details-container">
  <div class="product-layout">
    <!-- Left Side: Images -->
    <div class="images-section">
      <!-- Main Image -->
      <div class="main-image-container">
        <img
          [src]="getImageUrl(product.pictureUrl)"
          [alt]="product.name"
          class="main-image"
        />
      </div>

      <!-- Detail Images -->
      <div class="detail-images">
        <div class="detail-image-item">
          <img
            [src]="getImageUrl(product.detailImage1Url || product.pictureUrl)"
            alt="Detail image 1"
            class="detail-image"
          />
          <!-- <p class="detail-caption">(detail image 1)</p> -->
        </div>
        <div class="detail-image-item">
          <img
            [src]="getImageUrl(product.detailImage2Url || product.pictureUrl)"
            alt="Detail image 2"
            class="detail-image"
          />
          <!-- <p class="detail-caption">(detail image 2)</p> -->
        </div>
      </div>
    </div>

    <!-- Right Side: Product Information -->
    <div class="product-info-section">
      <!-- Title and Subtitle -->
      <div class="title-section">
        <h1 class="product-title">{{ product.name }}</h1>
        <p class="product-subtitle">{{ getSubtitle() }}</p>
        <p class="product-note">Painting dimensions shown in cm - unframed</p>
        <div class="edition-info">
          <p>{{ product.quantityInStock }} available</p>
        </div>
      </div>

      <!-- Edition and Price -->
      <div class="purchase-section">
        <div class="price-section">
          <p class="product-price">
            {{ product.price | currency : "EUR" : "symbol" : "1.2-2" }}
          </p>
          <button
            mat-stroked-button
            class="inquire-button"
            (click)="inquireToAcquire()"
          >
            Inquire to acquire
          </button>
        </div>
      </div>

      <!-- Description -->
      <div class="description-section">
        @for (paragraph of getFormattedDescription(); track $index; let isLast =
        $last) {
        <p class="product-description">
          @for (line of paragraph.split('\n'); track $index; let isLineLast =
          $last) { @if (line.trim()) {
          {{ line.trim() }}@if (!isLineLast) {<br />} } }
        </p>
        @if (!isLast) {
        <p class="product-description">&nbsp;</p>
        } } @if (getFormattedDescription().length > 0) {
        <p class="product-description">&nbsp;</p>
        }
        <!-- <p class="product-description">
                        hand-signed and numbered by the artist as part of a limited edition —<br>
                        artisanal frame glazed with acrylic, white passepartout.<br>
                        sizes are determined individually, in accordance with each image's intent —<br>
                        {{getDescriptionWithSize()}}
                    </p> -->
      </div>
    </div>
  </div>
</div>
}
