<section class="cart-page">
  @if (cartService.cart()?.items?.length! > 0) {
    <div class="cart-container">
      <!-- Cart Items -->
      <div class="cart-items">
        @for (item of cartService.cart()?.items; track item.productId) {
          <app-cart-item [item]="item"></app-cart-item>
        }
      </div>

      <!-- Divider -->
      <div class="cart-divider"></div>

      <!-- Subtotal and Checkout -->
      <div class="cart-summary">
        <div class="subtotal-row">
          <span class="subtotal-label">Subtotal</span>
          <span class="subtotal-amount">{{ cartService.totals()?.subtotal | currency }}</span>
        </div>
        <button
          routerLink="/checkout"
          class="checkout-button"
        >
          Secure Checkout
        </button>
      </div>
    </div>
  } @else {
    <app-empty-state 
      message="Your shopping cart is empty"
      icon="remove_shopping_cart"
      actionText="Go to shop"
      (action)="onAction()"
    />
  }
</section>